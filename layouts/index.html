{{ define "main" -}}
<div>
  {{ .Content -}}
</div>
<ul class="article-list">
  {{ $paginator := .Paginate (where .Site.RegularPages "Type" "posts") }}
  {{ range $paginator.Pages -}}
  <li class="article-item">
    <div class="article-date">{{ .Date.Format (.Site.Params.dateFormat | default "2006-01-02") }}</div>
    <div class="article-title">
      <a href="{{ .RelPermalink }}">
        {{ .Title }}
        {{ range .Params.badges }}
        <span class="article-badge">{{ . }}</span>
        {{ end }}
      </a>
    </div>
  </li>
  {{ end -}}
</ul>

{{ if gt $paginator.TotalPages 1 }}
  {{ partial "pagination.html" . }}
{{ end }}
{{ end -}}
